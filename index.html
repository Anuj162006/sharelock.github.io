<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShareLock - Secure Secret Sharing System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="hero-section">
            <div class="hero-content">
                <div class="hero-left">
                    <div class="character-illustration">
                        <div class="cyber-character">
                            <div class="character-glow"></div>
                            <div class="character-body">
                                <div class="character-head"></div>
                                <div class="character-torso"></div>
                                <div class="character-arms"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="hero-right">
                    <div class="header-text">
                        <h1>ShareLock</h1>
                        <p class="subtitle">Secure Secret Sharing System</p>
                    </div>
                    <div class="theme-toggle pill-switch">
                        <button class="theme-btn active" data-theme="light" title="Light Mode">Light</button>
                        <button class="theme-btn" data-theme="dark" title="Dark Mode">Dark</button>
                        <button class="theme-btn" data-theme="colorblind" title="Color Blind Mode">CB</button>
                    </div>
                </div>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab-button active" data-tab="split">Split Secret</button>
            <button class="tab-button" data-tab="reconstruct">Reconstruct Secret</button>
            <button class="tab-button" data-tab="manager">Share Manager</button>
        </nav>

        <!-- Split Secret Tab -->
        <div id="split-tab" class="tab-content active">
            <div class="card">
                <h2>Split Secret</h2>
                <form id="split-form">
                    <div class="form-group">
                        <label for="secret-input">Secret/Password:</label>
                        <input type="password" id="secret-input" placeholder="Enter your secret" required>
                        <button type="button" class="toggle-password" onclick="togglePassword('secret-input')">Show</button>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="n-input">Total Shares (n):</label>
                            <input type="number" id="n-input" min="2" max="20" value="5" required>
                            <small>Total number of shares to create</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="k-input">Threshold (k):</label>
                            <input type="number" id="k-input" min="2" max="20" value="3" required>
                            <small>Minimum shares needed to reconstruct</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="user-id-input">User ID (optional):</label>
                        <input type="text" id="user-id-input" placeholder="Your identifier">
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Split Secret</button>
                </form>
                
                <div id="split-result" class="result-container" style="display: none;">
                    <h3>Secret Split Successfully</h3>
                    <div class="info-box">
                        <p><strong>Secret ID:</strong> <code id="secret-id-display"></code></p>
                        <p><strong>Master Key:</strong> <code id="master-key-display"></code></p>
                        <p class="warning">Save the Master Key securely! You'll need it to reconstruct the secret.</p>
                    </div>
                    
                    <div class="shares-container">
                        <h4>Generated Shares</h4>
                        <div id="shares-list" class="shares-list"></div>
                    </div>
                    
                    <button class="btn btn-secondary" onclick="downloadShares()">Download Shares as JSON</button>
                    <button class="btn btn-secondary" onclick="copyToClipboard('split')">Copy All to Clipboard</button>
                </div>
            </div>
        </div>

        <!-- Reconstruct Secret Tab -->
        <div id="reconstruct-tab" class="tab-content">
            <div class="card">
                <h2>Reconstruct Secret</h2>
                <form id="reconstruct-form">
                    <div class="form-group">
                        <label for="secret-id-reconstruct">Secret ID:</label>
                        <input type="text" id="secret-id-reconstruct" placeholder="Enter secret ID" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="master-key-reconstruct">Master Key:</label>
                        <input type="text" id="master-key-reconstruct" placeholder="Enter master key" required>
                        <button type="button" class="toggle-password" onclick="togglePassword('master-key-reconstruct')">Show</button>
                    </div>
                    
                    <div class="form-group">
                        <label for="shares-input">Shares (JSON format):</label>
                        <textarea id="shares-input" rows="8" placeholder='[{"share_id": 1, "encrypted_share": "..."}, {"share_id": 2, "encrypted_share": "..."}]' required></textarea>
                        <small>Paste the shares array in JSON format</small>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Reconstruct Secret</button>
                </form>
                
                <div id="reconstruct-result" class="result-container" style="display: none;">
                    <h3>Secret Reconstructed Successfully</h3>
                    <div class="info-box success">
                        <p><strong>Reconstructed Secret:</strong></p>
                        <code id="reconstructed-secret" class="secret-display"></code>
                        <button class="btn btn-small" onclick="copyToClipboard('reconstruct')">Copy Secret</button>
                    </div>
                    <p id="shares-used-info"></p>
                </div>
            </div>
        </div>

        <!-- Share Manager Tab -->
        <div id="manager-tab" class="tab-content">
            <div class="card">
                <h2>Share Manager</h2>
                <p class="description">Organize, track, and manage your secret shares securely.</p>
                
                <!-- Statistics Dashboard -->
                <div class="stats-dashboard">
                    <div class="stat-card">
                        <div class="stat-number" id="total-share-sets">0</div>
                        <div class="stat-label">Total Share Sets</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-shares">0</div>
                        <div class="stat-label">Total Shares</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="recent-sets">0</div>
                        <div class="stat-label">Added This Week</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="categories-count">0</div>
                        <div class="stat-label">Categories</div>
                    </div>
                </div>
                
                <div class="manager-sections">
                    <!-- Import Shares Section -->
                    <div class="manager-section">
                        <h3>Import Shares</h3>
                        <form id="import-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="import-name">Share Set Name:</label>
                                    <input type="text" id="import-name" placeholder="e.g., 'Bank Account', 'WiFi Password'" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="import-category">Category:</label>
                                    <select id="import-category">
                                        <option value="">Select Category</option>
                                        <option value="personal">Personal</option>
                                        <option value="work">Work</option>
                                        <option value="finance">Finance</option>
                                        <option value="social">Social Media</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="import-shares">Shares Data (JSON):</label>
                                <textarea id="import-shares" rows="6" placeholder='Paste your shares JSON here...'></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="import-notes">Notes (optional):</label>
                                <textarea id="import-notes" rows="2" placeholder="Add any notes about this share set..."></textarea>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">Import Shares</button>
                        </form>
                    </div>

                    <!-- Search and Filter Section -->
                    <div class="manager-section">
                        <h3>Search & Filter</h3>
                        <div class="search-controls">
                            <div class="form-group">
                                <input type="text" id="search-input" placeholder="Search share sets by name or notes...">
                            </div>
                            <div class="filter-controls">
                                <select id="category-filter">
                                    <option value="">All Categories</option>
                                    <option value="personal">Personal</option>
                                    <option value="work">Work</option>
                                    <option value="finance">Finance</option>
                                    <option value="social">Social Media</option>
                                    <option value="other">Other</option>
                                </select>
                                <select id="sort-filter">
                                    <option value="newest">Newest First</option>
                                    <option value="oldest">Oldest First</option>
                                    <option value="name">Name (A-Z)</option>
                                    <option value="shares">Most Shares</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Batch Operations -->
                        <div class="batch-operations">
                            <button class="btn btn-secondary" onclick="selectAllShares()">Select All</button>
                            <button class="btn btn-secondary" onclick="deselectAllShares()">Deselect All</button>
                            <button class="btn btn-secondary" onclick="exportSelected()">Export Selected</button>
                            <button class="btn btn-secondary" onclick="deleteSelected()">Delete Selected</button>
                            <button class="btn btn-primary" onclick="exportAllShares()">Export All</button>
                        </div>
                    </div>

                    <!-- Stored Shares Section -->
                    <div class="manager-section">
                        <h3>Stored Share Sets</h3>
                        <div id="shares-list" class="stored-shares">
                            <p class="no-shares">No share sets stored yet. Import your first set above!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Error Display -->
        <div id="error-message" class="error-message" style="display: none;"></div>
    </div>

    <footer>
        <p>ShareLock - Professional Edition</p>
    </footer>

    <script src="app.js"></script>
</body>
</html>


